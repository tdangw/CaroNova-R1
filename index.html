  <!-- CaroNova - ChÆ¡i vá»›i AI -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CaroNova - ChÆ¡i vá»›i AI</title>
  <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="./css/shop.css" />
    <link rel="stylesheet" href="./css/quests.css" />
    <link rel="stylesheet" href="./css/inventory.css" />
    <link rel="stylesheet" href="./css/effect.css" />
    <link rel="stylesheet" href="./css/code.css" />
<!-- 
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/board.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/overlay.css">
    <link rel="stylesheet" href="css/responsive.css">
-->
  <!-- ThÃªm CSS á»Ÿ Ä‘Ã¢y -->
</head>

<body>
  <!-- BÆ°á»›c 1: Menu chá»n AI -->
  <div id="ai-menu" class="overlay" style="flex-direction: column; align-items: center; padding: 20px;">
  <h1 class="game-title">CaroNova</h1>
  <h2>Chá»n AI</h2>
  <div class="ai-list"></div>
  <button id="next-to-name-btn" style="margin-top: 20px;">Tiáº¿p theo</button>
  </div>



<!-- BÆ°á»›c 2: Nháº­p tÃªn ngÆ°á»i chÆ¡i -->
<div id="name-input-overlay" class="overlay" style="display: none; flex-direction: column; align-items: center;">
  <div class="name-card">
    <h2 style="text-align: center; margin-bottom: 20px;">Nháº­p tÃªn ngÆ°á»i chÆ¡i</h2>
    <input type="text" id="player-name-input" placeholder="TÃªn cá»§a báº¡n..." maxlength="12" />
    <button id="confirm-name-btn">Báº¯t Ä‘áº§u chÆ¡i</button>
  </div>
</div>

    <!-- Giao diá»‡n menu Online -->
<div id="online-menu" class="overlay hidden" style="flex-direction: column; align-items: center;">
  <div class="name-card">
    <h2 style="text-align: center; margin-bottom: 20px;">Cháº¿ Ä‘á»™ Online</h2>
    
    <div id="online-user-info" class="center-text">
     <span class="user-icon">ğŸ‘¤</span>
    <span id="display-name-label">Dang</span>
    </div>
  <button id="logout-btn" class="online-btn">ÄÄƒng xuáº¥t</button>
  <button id="create-room-btn" class="online-btn">ğŸ†• Táº¡o phÃ²ng</button>
  <button id="join-room-btn" class="online-btn">ğŸ“‹ Tham gia phÃ²ng</button>
  <button id="cancel-online-btn" class="online-btn">â†©ï¸ Há»§y</button>
  </div>
</div>

  <!-- Giao diá»‡n chÃ­nh cá»§a game -->
  <div id="game-container" style="display: none;">
  <h1 class="glow-title">CaroNova</h1>
  <div style="text-align: center; margin-bottom: 8px;">
  <div id="room-id-display" style="
    font-size: 1rem;
    color: #00f0ff;
    text-shadow: 0 0 6px #00f0ff;
    margin-top: 4px;">
  </div>

<button id="voucher-btn" title="Nháº­p mÃ£ quÃ  táº·ng">ğŸ</button>
<script type="module">
  const voucherBtn = document.getElementById('voucher-btn');
  voucherBtn?.addEventListener('click', () => {import('./js/code-ui.js').then(m => m.showCodePopup());});
</script>
<button id="shop-btn"         title="Má»Ÿ Shop">ğŸ›ï¸</button>
<button id="inventory-btn"    title="Má»Ÿ bá»™ sÆ°u táº­p">ğŸ’</button>
<button id="ai-inventory-btn" title="Kho skin AI">ğŸ¤–</button>
<button id="quest-btn"        title="Xem nhiá»‡m vá»¥">ğŸ“œ</button>
<!-- Popup Inventory -->
<div id="inventory-popup" style="display:none;"></div>

</div>

 <!-- Chá»‰ hiá»ƒn thá»‹ khi á»Ÿ cháº¿ Ä‘á»™ Online -->
  <div class="player-layout">
  <div id="player-left" class="player-info player-me"></div>
  <div id="player-right" class="player-info player-opponent"></div>
  </div>

    <div class="board-controls">
      <button id="reset-online-btn" class="hidden">ğŸ”„ ChÆ¡i láº¡i vÃ¡n má»›i</button>
      <button id="reset-btn">ğŸ”„ ChÆ¡i láº¡i</button>
      <button id="reset-stats-btn">ğŸ§¹ Reset</button>
      <div id="timer">â±ï¸ 00:00</div>
      <div id="timer-online" class="hidden">â±ï¸ 00:00</div>
      <div id="status">--</div>
      <div id="scoreboard">
        ğŸ†Tháº¯ng:<span id="player-wins">0</span> 
        âŒThua:<span id="player-losses">0</span> 
      </div>
    </div>
    <div id="turn-progress-wrapper">
    <div id="turn-progress-bar"></div>
    </div>
    <div id="board" class="board"></div>
  </div>

<!-- Modal ÄÄƒng kÃ½/ÄÄƒng nháº­p -->
<div id="auth-modal" class="overlay hidden">
  <div class="overlay-box" style="max-width:370px;">
    <h2 id="auth-title">ÄÄƒng nháº­p</h2>
    <form id="auth-form" autocomplete="off">
      <input id="auth-fullname" type="text" placeholder="Há» vÃ  tÃªn" style="display:none; margin:4px 0;width:95%" maxlength="40" />
      <input id="auth-birthday" type="date" style="display:none; margin:4px 0;width:95%" />
      <select id="auth-gender" style="display:none; margin:4px 0;width:99%">
        <option value="">Chá»n giá»›i tÃ­nh</option>
        <option value="Nam">Nam</option>
        <option value="Ná»¯">Ná»¯</option>
        <option value="KhÃ¡c">KhÃ¡c</option>
      </select>
      <input id="auth-username" type="text" placeholder="TÃªn Ä‘Äƒng nháº­p (4-16 kÃ½ tá»±)" style="display:none; margin:4px 0;width:95%" maxlength="16" />
<input
  id="auth-email"
  type="text"
  placeholder="Email hoáº·c tÃªn Ä‘Äƒng nháº­p"
  style="margin:4px 0;width:95%"
  maxlength="40"
  autocomplete="username"/>
      <input id="auth-password" type="password" placeholder="Máº­t kháº©u (6-12 kÃ½ tá»±)" autocomplete="current-password" style="margin:4px 0;width:95%" maxlength="12" />
      
      <label id="rule-label" style="display:none; margin:6px 0; font-size: 0.96em; cursor:pointer;">
        <input id="auth-agree" type="checkbox" required /> TÃ´i Ä‘á»“ng Ã½ vá»›i 
        <span id="rule-link" style="color: #00f; text-decoration: underline; cursor: pointer;">Quy Ä‘á»‹nh sá»­ dá»¥ng</span>
      </label>
      <button id="auth-action-btn" type="submit">ÄÄƒng nháº­p</button>
      <button type="button" id="toggle-auth-btn" style="margin-top:10px;">ChÆ°a cÃ³ tÃ i khoáº£n? ÄÄƒng kÃ½</button>
      <button type="button" id="close-auth-modal" style="margin-top:6px;">Há»§y</button>
      <div id="auth-message" style="margin-top:8px;color:salmon;"></div>
    </form>
  </div>
</div>
<!-- Popup Quy Ä‘á»‹nh sá»­ dá»¥ng -->
<div id="rule-popup" style="display:none; position:fixed; top:10%; left:50%; transform:translateX(-50%); background:white; color:#111; padding:24px; border-radius:12px; z-index:9999; max-width:360px; box-shadow:0 0 12px #0009;">
  <h3>Quy Ä‘á»‹nh sá»­ dá»¥ng CaroNova</h3>
  <ol style="font-size: 1rem; line-height:1.7;">
    <li>HÃ£y tá»­ táº¿ vÃ  lá»‹ch sá»±.</li>
    <li>TrÃ¡nh lá»i nÃ³i khÃ³ chá»‹u hoáº·c báº¯t náº¡t.</li>
    <li>KhÃ´ng Ä‘Äƒng quáº£ng cÃ¡o hoáº·c tin rÃ¡c.</li>
    <li>TÃ´n trá»ng quyá»n riÃªng tÆ° cá»§a má»i ngÆ°á»i.</li>
    <li>KhÃ´ng chia sáº» tÃ i khoáº£n cho ngÆ°á»i khÃ¡c.</li>
    <li>KhÃ´ng sá»­ dá»¥ng cheat, hack, hay pháº§n má»m gian láº­n.</li>
    <li>KhÃ´ng phÃ¡t tÃ¡n thÃ´ng tin cÃ¡ nhÃ¢n cá»§a ngÆ°á»i khÃ¡c.</li>
    <li>CaroNova cÃ³ quyá»n xÃ³a tÃ i khoáº£n vi pháº¡m mÃ  khÃ´ng cáº§n bÃ¡o trÆ°á»›c.</li>
  </ol>
  <button onclick="document.getElementById('rule-popup').style.display='none'">ÄÃ£ hiá»ƒu</button>
</div>

  <div id="game-version" class="tooltip" data-tooltip="Xem thÃ´ng tin cáº­p nháº­t phiÃªn báº£n">â„¹ï¸ v1.2</div>
    <div id="version-info-popup" class="hidden version-popup">
      <h3>ThÃ´ng tin phiÃªn báº£n v1.2-R1</h3>
      <ul>
        <li> NÃ¢ng cáº¥p AI.</li>
        <li> Voice AI.</li>
        <li> Há»‡ thá»‘ng tÃ­nh Ä‘iá»ƒm vÃ  level.</li>
        <li> LÆ°u thá»‘ng kÃª vÃ  hiá»ƒn thá»‹ káº¿t quáº£.</li>
        <li> Cáº­p nháº­t Ã¢m thanh.</li>
        <li> Cáº­p nháº­t biá»ƒu cáº£m cá»§a AI.</li>
        <li> AI nÃ¢ng cao <b>- Coming soon!</b></li>
        <li> Cháº¿ Ä‘á»™ Online <b>- Beta!</b></li>
        <li> PhiÃªn báº£n <b>v1.2-R1</b> Ä‘ang phÃ¡t triá»ƒn...</li>
        <li> Nhiá»‡m vá»¥ vÃ  pháº§n thÆ°á»Ÿng.</li>
        <li> Kho skin AI.</li>
        <li> Shop vÃ  bá»™ sÆ°u táº­p.</li>
        <li> Há»‡ thá»‘ng chat - Ä‘ang phÃ¡t triá»ƒn.</li>
      </ul>
      <button id="close-version-popup">ÄÃ³ng</button>
    </div>

  <script type="module" src="js/menu.js"></script>
  <script type="module" src="js/game-online.js"></script>
  <script type="module" src="js/quests.js"></script>
  <script type="module" src="js/quest-ui.js"></script>
  <script type="module" src="js/inventory-ui.js"></script>


  <script type="module">import { openShop } from './js/shop-ui.js';
  document.getElementById('shop-btn').addEventListener('click', openShop);
  </script>
  <script type="module">
  import { openInventory, openAIInventory } from './js/inventory.js';
  document.getElementById('inventory-btn')?.addEventListener('click', () => openInventory());
  document.getElementById('ai-inventory-btn')?.addEventListener('click', () => openAIInventory());
  </script>
  <script type="module"> import { renderAIList } from './js/ai-list.js';renderAIList();</script>

</body>
</html>